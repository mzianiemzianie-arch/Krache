<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تحليل BTC و ETH</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>تطبيق إشارات العملات</h1>

<div>
  <label>اختر الزوج:</label>
  <select id="pair">
    <option value="BTCUSDT">BTC/USDT</option>
    <option value="ETHUSDT">ETH/USDT</option>
  </select>

  <label>الإطار الزمني:</label>
  <select id="interval">
    <option value="1m">دقيقة</option>
    <option value="5m">خمس دقائق</option>
    <option value="1h">ساعة</option>
  </select>

  <button onclick="getSignal()">تحليل</button>
</div>

<div id="signalBTC" class="signal-box">BTC الإشارة ستظهر هنا</div>
<div id="signalETH" class="signal-box">ETH الإشارة ستظهر هنا</div>

<script>
async function getSignal(){
    const pair = document.getElementById('pair').value;
    const interval = document.getElementById('interval').value;

    const symbols = ["BTCUSDT", "ETHUSDT"];
    for(const s of symbols){
        try{
            const res = await fetch(`http://127.0.0.1:5000/signal?symbol=${s}&interval=${interval}`);
            const data = await res.json();
            document.getElementById(`signal${s.slice(0,3)}`).innerText = `${s.slice(0,3)}: الإشارة القادمة ${data.signal}`;
        }catch(err){
            document.getElementById(`signal${s.slice(0,3)}`).innerText = `${s.slice(0,3)}: خطأ في الاتصال بالباك اند`;
        }
    }
}
</script>

</body>
</html>
